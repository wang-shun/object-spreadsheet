<template name="MilkMaid">
  <style>
    div.header { background: rgba(0,60,60,0.2); padding: 9px; }
    div.content { position: relative; }
    div.Gauge { position: absolute; right: 0; top: 0;  margin: 9px; }
    div.Cycle { margin: 9px; }
    table { border-collapse: collapse; }
    table td { border: 1px solid #CCC; padding: 6px; }
    div.Cycle tr:not([data-isNext='']) td { background: rgba(0,0,255,0.2); }
    div.Gauge tr[data-selected] td { outline: 3px solid black; }
    div.Gauge tr td { cursor: pointer; }
    div.Gauge tr td:hover { background: rgba(0,0,255,0.2); }
  </style>
  
  <div class="header">Milkmaid</div>
  
  <div class="content">
    <div class="Cycle">
      <table>
        {{#each milk.Cycle}}
        <tr data-isNext="{{isNext}}"><td>{{name}}</td>
          <td>{{#each isNext}}{{#with me=..}}<button>Supply</button>{{/with}}{{/each}}</td></tr>
        {{/each}}
      </table>
    </div>

    <div class="Gauge">
      <table>
        {{#each milk.Gauge}}
        {{#each Level}}
        <tr data-selected="{{sameAs ../reading}}">
          <td class="marking">{{label}}</td>
        </tr>
        {{/each}}
        {{/each}}
      </table>
    </div>
  </div>
</template>
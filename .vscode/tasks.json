// Available variables which can be used inside of strings.
// ${workspaceRoot}: the root folder of the team
// ${file}: the current opened file
// ${fileBasename}: the current opened file's basename
// ${fileDirname}: the current opened file's dirname
// ${fileExtname}: the current opened file's extension
// ${cwd}: the current working directory of the spawned process

// This task serves only to display the errors for the entire project in VS
// Code.  Do not emit output; the Meteor build system will do that.
// ~ Matt 2016-02-26

// A task runner that calls the Typescript compiler (tsc) and
// compiles based on a tsconfig.json file that is present in
// the root of the folder open in VSCode
{
	"version": "0.1.0",

	// Use the embedded copy of the TypeScript compiler.  Run "meteor" once to
	// download it.  (Unfortunately, the semantics of "showOutput": "silent" do
	// not appear to be such that the output window shows up when the wrapper
	// script reports an error.) ~ Matt 2016-02-28
	"command": "tests/tsc",

	// The command is a shell script
	"isShellCommand": true,

	// Show the output window only if unrecognized errors occur.
	"showOutput": "silent",

	// Tell the tsc compiler to use the tsconfig.json from the open folder.
	"args": ["-p", "."],

	// use the standard tsc problem matcher to find compile problems
	// in the output.
	"problemMatcher": "$tsc"
}
